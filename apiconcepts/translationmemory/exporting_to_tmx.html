<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Exporting to TMX </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Exporting to TMX ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <span class="glyphicon glyphicon-search search-icon"></span>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar-default">
          <div class="container hide-when-search">
            <div class="breadcrumb-container" id="breadcrumb">
              <ul class="breadcrumb col-md-10">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="exporting-to-tmx">Exporting to TMX</h2>

<p>In this step you will learn how to implement the functionality for exporting the content of file TMs (*.sdltm files) to *.tmx.</p>
<p>Add a class called <code>TmExporter</code> to your project. Then implement a function called Export, which takes the name and path of the TM file as a string parameter. Within this function you first open the file TM using the <code>tmPath</code> parameter. Then create an exporter object based on the TM and its language direction. When applying the <code>Export</code> method to the exporter object, you specify the export file name and path. Let us assume that the TMX file should be stored in the same path as the file TM. Also, the name should be the same as the file TM plus the language direction and the extension TMX, e.g. <em>sample.sdltm_en-US_de-DE.tmx</em>. By including the language direction in the export file name, we can determine into which master TM the *.tmx file should be imported later. That way we can avoid futile import operations (e.g. importing a French-English TMX file into a German-Spanish master TM).</p>
<div class="tabGroup" id="tabgroup_e0mbQcXkqq">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_e0mbQcXkqq_tabid-1" role="tab" aria-controls="tabpanel_e0mbQcXkqq_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_e0mbQcXkqq_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-cs">/// &lt;summary&gt;
/// This function performs the actual export operation.
/// *.sdltm files are exported to *.tmx format.
/// &lt;/summary&gt;
/// &lt;param name=&quot;translationMemoryPath&quot;&gt;FileBasedTranslationMemory to export into.&lt;/param&gt;
public void Export(string translationMemoryPath)
{
    this.exportProgress = 0;
    FileBasedTranslationMemory tm = new FileBasedTranslationMemory(translationMemoryPath);
    TranslationMemoryExporter exporter = new TranslationMemoryExporter(tm.LanguageDirection);

    // set event handler
    exporter.BatchExported += new EventHandler&lt;BatchExportedEventArgs&gt;(this.Exporter_BatchExported);

    // The *.tmx export files have the same name as the original
    // *.sdltm files, including the language direction retrieved
    // from the file TM, e.g. &quot;en-US_de-DE&quot;.
    string exportString = string.Format(
        CultureInfo.CurrentCulture,
        &quot;{0}_{1}_{2}.tmx&quot;,
        translationMemoryPath,
        tm.LanguageDirection.SourceLanguage,
        tm.LanguageDirection.TargetLanguage);
    exporter.Export(exportString, true);

    Console.Write(&quot;Translation Units exported: {0} \n&quot;, this.exportProgress);
}

/// &lt;summary&gt;
/// Updates the console with current export progress
/// &lt;/summary&gt;
/// &lt;param name=&quot;sender&quot;&gt;Event sender.&lt;/param&gt;
/// &lt;param name=&quot;e&quot;&gt;Object containing current progress value and related info.&lt;/param&gt;
private void Exporter_BatchExported(object sender, BatchExportedEventArgs e)
{
    this.exportProgress = e.TotalExported;
}
</code></pre></section>
</div>
<h2 id="putting-it-all-together">Putting it All Together</h2>
<p>The complete class should look as shown below:</p>
<div class="tabGroup" id="tabgroup_e0mbQcXkqq-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_e0mbQcXkqq-1_tabid-2" role="tab" aria-controls="tabpanel_e0mbQcXkqq-1_tabid-2" data-tab="tabid-2" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_e0mbQcXkqq-1_tabid-2" role="tabpanel" data-tab="tabid-2">
<pre><code class="lang-cs">namespace SDK.LanguagePlatform.Samples.BatchExport
{
    using System;
    using System.Globalization;
    using Sdl.LanguagePlatform.TranslationMemoryApi;

    /// &lt;summary&gt;
    /// Represents functionality for exporting *.tmx files.
    /// &lt;/summary&gt;
    public class TMExporter
    {
        /// &lt;summary&gt;
        /// Represents current export progress in persents.
        /// &lt;/summary&gt;
        private int exportProgress = 0;

        #region &quot;export&quot;

        /// &lt;summary&gt;
        /// This function performs the actual export operation.
        /// *.sdltm files are exported to *.tmx format.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;translationMemoryPath&quot;&gt;FileBasedTranslationMemory to export into.&lt;/param&gt;
        public void Export(string translationMemoryPath)
        {
            this.exportProgress = 0;
            FileBasedTranslationMemory tm = new FileBasedTranslationMemory(translationMemoryPath);
            TranslationMemoryExporter exporter = new TranslationMemoryExporter(tm.LanguageDirection);

            // set event handler
            exporter.BatchExported += new EventHandler&lt;BatchExportedEventArgs&gt;(this.Exporter_BatchExported);

            // The *.tmx export files have the same name as the original
            // *.sdltm files, including the language direction retrieved
            // from the file TM, e.g. &quot;en-US_de-DE&quot;.
            string exportString = string.Format(
                CultureInfo.CurrentCulture,
                &quot;{0}_{1}_{2}.tmx&quot;,
                translationMemoryPath,
                tm.LanguageDirection.SourceLanguage,
                tm.LanguageDirection.TargetLanguage);
            exporter.Export(exportString, true);

            Console.Write(&quot;Translation Units exported: {0} \n&quot;, this.exportProgress);
        }

        /// &lt;summary&gt;
        /// Updates the console with current export progress
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;sender&quot;&gt;Event sender.&lt;/param&gt;
        /// &lt;param name=&quot;e&quot;&gt;Object containing current progress value and related info.&lt;/param&gt;
        private void Exporter_BatchExported(object sender, BatchExportedEventArgs e)
        {
            this.exportProgress = e.TotalExported;
        }

        #endregion
    }
}
</code></pre></section>
</div>
<h2 id="see-also">See Also</h2>
<p><a href="exporting_to_a_tmx_file.html">Exporting to a TMX File</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/studio-api-docs/blob/main/apiconcepts/translationmemory/exporting_to_tmx.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h4>On this page</h4>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
