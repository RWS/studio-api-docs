<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Retrieving TM Containers </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Retrieving TM Containers ">
    <meta name="generator" content="docfx 2.59.3.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <span class="glyphicon glyphicon-search search-icon"></span>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar-default">
          <div class="container hide-when-search">
            <div class="breadcrumb-container" id="breadcrumb">
              <ul class="breadcrumb col-md-10">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="retrieving-tm-containers">Retrieving TM Containers</h1>

<p>In this chapter you will learn how to get programmatic access to TM containers. Containers are the actual physical databases that contain one or more TMs. Technically speaking, TMs are tables within a container database. Depending on the number of TMs used, you may consolidate all TMs in a single container database, or split the TMs among several container databases. This may be a consideration driven by the maximum physical size of a database. For example, Microsoft SQL Express versions only support databases up to a maximum size (4 GB).</p>
<h2 id="add-a-new-class">Add a New Class</h2>
<p>Start by adding a new class called <code>ServerContainersProvider</code> to your project. Then implement a public function called <code>GetDBContainers</code> in the class, which takes a <a href="../../api/translationmemory/Sdl.LanguagePlatform.TranslationMemoryApi.TranslationProviderServer.html">TranslationProviderServer</a> object as parameter. This function can be called from the connector class as shown below:</p>
<div class="tabGroup" id="tabgroup_uBZIKnnS56">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_uBZIKnnS56_tabid-1" role="tab" aria-controls="tabpanel_uBZIKnnS56_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_uBZIKnnS56_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-cs">var containersProvider = new ServerContainersProvider();
containersProvider.GetDBContainers(tmServer);
</code></pre></section>
</div>
<p>The <code>GetDBContainers</code> function loops through the containers that are associated with the TM Server object and outputs various information in a message box:</p>
<div class="tabGroup" id="tabgroup_uBZIKnnS56-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_uBZIKnnS56-1_tabid-2" role="tab" aria-controls="tabpanel_uBZIKnnS56-1_tabid-2" data-tab="tabid-2" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_uBZIKnnS56-1_tabid-2" role="tabpanel" data-tab="tabid-2">
<pre><code class="lang-cs">public void GetDBContainers(TranslationProviderServer tmServer)
{
    string dbInfo = string.Empty;

    foreach (TranslationMemoryContainer container in tmServer.GetContainers(ContainerProperties.None))
    {
        dbInfo += &quot;DB Name: &quot; + container.DatabaseName + &quot;\n&quot;;
        dbInfo += &quot;Friendly name: &quot; + container.Name + &quot;\n&quot;;
        dbInfo += &quot;DB Server: &quot; + container.DatabaseServer + &quot;\n&quot;;
        dbInfo += &quot;Description: &quot; + container.Description + &quot;\n\n&quot;;
        dbInfo += &quot;ParentOrganization: &quot; + container.ParentResourceGroupPath + &quot;\n\n&quot;;
    }

    MessageBox.Show(dbInfo);
}
</code></pre></section>
</div>
<p>Among the properties you can retrieve are the physical <a href="../../api/translationmemory/Sdl.LanguagePlatform.TranslationMemoryApi.TranslationMemoryContainer.html#Sdl_LanguagePlatform_TranslationMemoryApi_TranslationMemoryContainer_DatabaseName">DatabaseName</a> as well as the friendly <a href="../../api/translationmemory/Sdl.LanguagePlatform.TranslationMemoryApi.TranslationMemoryContainer.html#Sdl_LanguagePlatform_TranslationMemoryApi_TranslationMemoryContainer_Name">Name</a> assigned by the user during creation of the container database. Apart from that you can also retrieve, for example, the optional container description and the name of the database server on which the container is stored.
Below you see an example of a container information box in GroupShare Web UI:</p>
<p><img style="display:block; " src="images/ContainerInfo.jpg"></p>
<h2 id="putting-it-all-together">Putting it All Together</h2>
<p>The complete class looks as shown below:</p>
<div class="tabGroup" id="tabgroup_uBZIKnnS56-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_uBZIKnnS56-2_tabid-3" role="tab" aria-controls="tabpanel_uBZIKnnS56-2_tabid-3" data-tab="tabid-3" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_uBZIKnnS56-2_tabid-3" role="tabpanel" data-tab="tabid-3">
<pre><code class="lang-cs">namespace SDK.LanguagePlatform.Samples.TmAutomation
{
    using System.Windows.Forms;
    using Sdl.LanguagePlatform.TranslationMemoryApi;

    public class ServerContainersProvider
    {
        #region &quot;get&quot;
        public void GetDBContainers(TranslationProviderServer tmServer)
        {
            string dbInfo = string.Empty;

            foreach (TranslationMemoryContainer container in tmServer.GetContainers(ContainerProperties.None))
            {
                dbInfo += &quot;DB Name: &quot; + container.DatabaseName + &quot;\n&quot;;
                dbInfo += &quot;Friendly name: &quot; + container.Name + &quot;\n&quot;;
                dbInfo += &quot;DB Server: &quot; + container.DatabaseServer + &quot;\n&quot;;
                dbInfo += &quot;Description: &quot; + container.Description + &quot;\n\n&quot;;
                dbInfo += &quot;ParentOrganization: &quot; + container.ParentResourceGroupPath + &quot;\n\n&quot;;
            }

            MessageBox.Show(dbInfo);
        }
        #endregion
    }
}
</code></pre></section>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/studio-api-docs/blob/docs/17.2/apiconcepts/translationmemory/retrieving_tm_containers.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h4>On this page</h4>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
