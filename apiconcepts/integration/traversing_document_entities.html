<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Traversing document entities </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Traversing document entities ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <span class="glyphicon glyphicon-search search-icon"></span>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar-default">
          <div class="container hide-when-search">
            <div class="breadcrumb-container" id="breadcrumb">
              <ul class="breadcrumb col-md-10">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="traversing-document-entities">Traversing document entities</h1>

<p>The visitor pattern allows a class implementer to traverse all the child objects in an objects hierarchy without having to know how the hierarchy is implemented or having to be aware of any changes in how the hierarchy is implemented.</p>
<h2 id="implementing-imarkupdatavisitor">Implementing <code>IMarkupDataVisitor</code></h2>
<p>All that is required is that your class needs to derive from the <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitTagPair_Sdl_FileTypeSupport_Framework_BilingualApi_ITagPair_">IMarkupDataVisitor</a> interface and to explicitly implement all the interface’s methods. To use the visitor pattern, it is normally helpful to write the similar private method that calls accept visitor for all the markup data child items of the given parent.</p>
<p>This method can then be used to kick off the traversal of all the items in a paragraph-unit so that they can be written to the translated target document. This can be done in the implementation of <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IBilingualContentHandler.html#Sdl_FileTypeSupport_Framework_BilingualApi_IBilingualContentHandler_ProcessParagraphUnit_Sdl_FileTypeSupport_Framework_BilingualApi_IParagraphUnit_">ProcessParagraphUnit</a> where the passed <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IParagraphUnit.html">IParagraphUnit</a> object can have its Source and Target paragraphs passed to <code>AppendItems()</code> and the implementations of the <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html">IMarkupDataVisitor</a> interface methods can process the various types of text and mark-up objects that form part of the paragraph data hierarchies.</p>
<p><strong>VisitTagPair()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitTagPair_Sdl_FileTypeSupport_Framework_BilingualApi_ITagPair_">VisitTagPair</a> method is called when a tag pair object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ITagPair.html">ITagPair</a> is being visited. This tag pair object is normally processed by writing to the target document the tag pair start tag then processing all the tag pair’s child nodes then writing the tag pair end tag. However, some Bilingual Writers may need to cache this information first. In order to process all the child nodes of a tag pair the <code>AppendItems()</code> private helper method can be called with the tag object as the parameter.</p>
<p><strong>VisitPlaceholderTag())</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitPlaceholderTag_Sdl_FileTypeSupport_Framework_BilingualApi_IPlaceholderTag_">VisitPlaceholderTag</a> method is called when a placeholder tag object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IPlaceholderTag.html">IPlaceholderTag</a> is being visited. This placeholder object is normally processed by writing to the target document this placeholder tag. However, some Bilingual writers may need to cache this information first.</p>
<p><strong>VisitText()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitText_Sdl_FileTypeSupport_Framework_BilingualApi_IText_">VisitText</a> method is called when a text object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IText.html">IText</a> is being visited. This text object is normally processed by writing the content of the text object to the target document. However, when processing text items it may be necessary to consider the value of <code>ContentRestriction</code> as the content restriction type may indicate that the source text is to be written instead of the target text. If this is the case then when a translatable paragraph-unit is being processed then <code>AppendItems()</code> should be called for the source paragraph rather than then target paragraph ensuring that subsequent calls to <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitText_Sdl_FileTypeSupport_Framework_BilingualApi_IText_">VisitText</a> will be for the source text.</p>
<p><strong>VisitSegment()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitSegment_Sdl_FileTypeSupport_Framework_BilingualApi_ISegment_">VisitSegment</a> method is called when a segment object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ISegment.html">ISegment</a> is being visited. This segment object is normally processed by writing any required information from the <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.NativeApi.ISegmentPairProperties.html">ISegmentPairProperties</a>, such as <code>MatchPercent</code> or <code>TranslationOrigin</code>.</p>
<p><strong>VisitLocationMarker()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitLocationMarker_Sdl_FileTypeSupport_Framework_BilingualApi_ILocationMarker_">VisitLocationMarker</a> method is called when a location marker object of type ILocationMarker is being visited. Location markers are typically used for locating a position within a translated document, such as the scroll position when previewing a document within a framework based editor.</p>
<p><strong>VisitOtherMarker()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitOtherMarker_Sdl_FileTypeSupport_Framework_BilingualApi_IOtherMarker_">VisitOtherMarker</a> method is called when an alternate location marker object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IOtherMarker.html">IOtherMarker</a> is being visited.</p>
<p><strong>VisitRevisionMarker()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitRevisionMarker_Sdl_FileTypeSupport_Framework_BilingualApi_IRevisionMarker_">VisitRevisionMarker</a> method is called when an track change location marker object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IRevisionMarker.html">IRevisionMarker</a> is being visited.</p>
<p><strong>VisitLockedContent()</strong></p>
<p><a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.IMarkupDataVisitor.html#Sdl_FileTypeSupport_Framework_BilingualApi_IMarkupDataVisitor_VisitLockedContent_Sdl_FileTypeSupport_Framework_BilingualApi_ILockedContent_">VisitLockedContent</a> method is called when a locked content container object of type <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ILockedContent.html">ILockedContent</a> is being visited. This locked content object is normally processed by checking the value of <code>LockType</code> in its <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ILockedContent.html#Sdl_FileTypeSupport_Framework_BilingualApi_ILockedContent_Properties">Properties</a> property. The value of this lock type may indicate how to treat the contents of this container when writing them to the translated target document. Also when processing this <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ILockedContent.html">ILockedContent</a> container it would normally be the case that &#39;AppendItems()&#39; would be called for its <a href="../../api/filetypesupport/Sdl.FileTypeSupport.Framework.BilingualApi.ILockedContent.html#Sdl_FileTypeSupport_Framework_BilingualApi_ILockedContent_Content">Content</a> collection of child objects.</p>
<h2 id="see-also">See Also</h2>
<p><a href="https://en.wikipedia.org/wiki/Visitor_pattern">Visitor pattern</a>
<a href="https://en.wikipedia.org/wiki/Design_Patterns">Design pattern</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/studio-api-docs/blob/main/apiconcepts/integration/traversing_document_entities.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h4>On this page</h4>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
