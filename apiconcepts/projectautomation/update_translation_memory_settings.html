<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Update Translation Memory Settings </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Update Translation Memory Settings ">
    <meta name="generator" content="docfx 2.58.4.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <span class="glyphicon glyphicon-search search-icon"></span>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar-default">
          <div class="container hide-when-search">
            <div class="breadcrumb-container" id="breadcrumb">
              <ul class="breadcrumb col-md-10">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="update-translation-memory-settings">Update Translation Memory Settings</h1>

<p>The batch task for updating TMs goes through one or several bilingual (SDLXliff) files and updates one or more TMs using the translated file content. Updating in this case means overwriting existing TUs with edited content from the bilingual files, or adding new TUs, which do not yet exist in the TM(s).</p>
<p>TMs can be updated at the end of a project lifecycle using the fully translated, reviewed, and signed-off bilingual files. However, the update can also occur in the middle of a project, e.g. to provide an editor or proofreader with a TM that is based on what the translator did in the previous workflow step.</p>
<p>Mid-project TM updates are usually performed on project translation memories, i.e. smaller TMs that contain project-specific content. The update that is based on the fully reviewed and signed-off documents is usually done on the main (or master) TMs, which are normally much larger than the project TMs, as they contain TUs from numerous translation projects, and are used for future reference.</p>
<p>This page provides an example of the settings that can be configured when updating a file-based translation memory using the content of a bilingual (SDLXliff) file.</p>
<p>The screenshot below illustrates the options that you can configure in Trados Studio when running an update TM task.</p>
<p><img src="images/ProjectApiUpdateTmSettings.jpg" alt="ProjectApiUpdateTmSettings"></p>
<p>To programmatically configure the task settings implement a helper function called <code>GetUpdateTmTaskSettings</code>, which takes a <a href="../../api/projectautomation/Sdl.ProjectAutomation.FileBased.FileBasedProject.html">FileBasedProject</a> object as parameter. The settings for a particular task are saved within the project. The settings can either apply to the entire project or can be target-language specific, e.g. when the German files require different settings than the French files. Each project is associated with a settings bundle, which contains the settings for all tasks (e.g. analyze, pre-translate, etc.). First, create a <code>ISettingsBundle</code> object by applying the <code>GetSettings</code> method to the project object. Then apply the <code>GetSettingsGroup</code> method to generate a settings object based on the <a href="../../api/projectautomation/Sdl.ProjectAutomation.Settings.TranslationMemoryUpdateTaskSettings.html">TranslationMemoryUpdateTaskSettings</a> class:</p>
<div class="tabGroup" id="tabgroup_sOWM5h-Xiu">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_sOWM5h-Xiu_tabid-1" role="tab" aria-controls="tabpanel_sOWM5h-Xiu_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_sOWM5h-Xiu_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-CS">ISettingsBundle settings = project.GetSettings();
TranslationMemoryUpdateTaskSettings updateTmSettings = settings.GetSettingsGroup&lt;TranslationMemoryUpdateTaskSettings&gt;();
</code></pre></section>
</div>
<p><strong>Adding New Translation Units During the Update</strong></p>
<p>Through the <a href="../../api/projectautomation/Sdl.ProjectAutomation.Settings.TranslationMemoryUpdateTaskSettings.html#Sdl_ProjectAutomation_Settings_TranslationMemoryUpdateTaskSettings_AlwaysAddNewTranslation">AlwaysAddNewTranslation</a> property you can determine what should happen when during the update procedure it is found that the translation for the same source segment differs between the TM and the bilingual (SDLXliff) document. By default, the translation from the bilingual document overwrites the translation stored in the TM. As it can be assumed that the bilingual document has gone through a review and approval process, the document can be reasonably considered to be of higher quality than the TM as it is before the update TM process. However, if you have reason to believe that both the translation from the TM and the one from the bilingual document are correct and valid, you may want <em>both</em> solutions to end up in the main TM. In this case you can set this property to True. However, note that the risk is that you might end up cluttering your TM with duplicate TUs (i.e. TUs that have the same source segment). This is why this setting is by default switched off.</p>
<div class="tabGroup" id="tabgroup_sOWM5h-Xiu-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_sOWM5h-Xiu-1_tabid-2" role="tab" aria-controls="tabpanel_sOWM5h-Xiu-1_tabid-2" data-tab="tabid-2" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_sOWM5h-Xiu-1_tabid-2" role="tabpanel" data-tab="tabid-2">
<pre><code class="lang-CS">updateTmSettings.AlwaysAddNewTranslation.Value = true;
</code></pre></section>
</div>
<p><strong>Filtering for Segment Status</strong></p>
<p>In an SDLXliff document each segment pair has a particular status depending on whether it has been translated, approved, verified, signed-off, rejected, etc. During the update process you will usually only want fully translated, approved, and signed-off content to be stored in the TM, i.e. no draft or rejected translations. The sample code below shows the various properties you may set for this purpose as well as their default values. In the code snippet below you see the available properties that are used to determine which segment status values should be considered when updating the TM. The list below also shows which status values are by default considered for the TM update (True) and which ones are not taken into account when updating TMs (False)</p>
<div class="tabGroup" id="tabgroup_sOWM5h-Xiu-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_sOWM5h-Xiu-2_tabid-3" role="tab" aria-controls="tabpanel_sOWM5h-Xiu-2_tabid-3" data-tab="tabid-3" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_sOWM5h-Xiu-2_tabid-3" role="tabpanel" data-tab="tabid-3">
<pre><code class="lang-CS">updateTmSettings.UpdateWithApprovedSignOffSegments.Value = true;
updateTmSettings.UpdateWithApprovedTranslationSegments.Value = true;
updateTmSettings.UpdateWithTranslatedSegments.Value = true;

updateTmSettings.UpdateWithDraftSegments.Value = false;
updateTmSettings.UpdateWithRejectedSignOffSegments.Value = false;
updateTmSettings.UpdateWithRejectedTranslationSegments.Value = false;
updateTmSettings.UpdateWithUnspecifiedSegments.Value = false;
</code></pre></section>
</div>
<p>Last, you need to apply the settings to the project through the <a href="../../api/projectautomation/Sdl.ProjectAutomation.FileBased.FileBasedProject.html#Sdl_ProjectAutomation_FileBased_FileBasedProject_UpdateSettings_Sdl_Core_Globalization_Language_Sdl_Core_Settings_ISettingsBundle_">UpdateSettings</a> method, so that the settings are persisted in the project.</p>
<div class="tabGroup" id="tabgroup_sOWM5h-Xiu-3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_sOWM5h-Xiu-3_tabid-4" role="tab" aria-controls="tabpanel_sOWM5h-Xiu-3_tabid-4" data-tab="tabid-4" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_sOWM5h-Xiu-3_tabid-4" role="tabpanel" data-tab="tabid-4">
<pre><code class="lang-CS">project.UpdateSettings(settings);
</code></pre></section>
</div>
<h2 id="putting-it-all-together">Putting it All Together</h2>
<p>The function should look as shown below:</p>
<div class="tabGroup" id="tabgroup_sOWM5h-Xiu-4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_sOWM5h-Xiu-4_tabid-5" role="tab" aria-controls="tabpanel_sOWM5h-Xiu-4_tabid-5" data-tab="tabid-5" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_sOWM5h-Xiu-4_tabid-5" role="tabpanel" data-tab="tabid-5">
<pre><code class="lang-CS">public void GetUpdateTmTaskSettings(FileBasedProject project)
{
    #region &quot;UpdateTmTaskSettings&quot;
    ISettingsBundle settings = project.GetSettings();
    TranslationMemoryUpdateTaskSettings updateTmSettings = settings.GetSettingsGroup&lt;TranslationMemoryUpdateTaskSettings&gt;();
    #endregion

    #region &quot;NewTranslations&quot;
    updateTmSettings.AlwaysAddNewTranslation.Value = true;
    #endregion

    #region &quot;Status&quot;
    updateTmSettings.UpdateWithApprovedSignOffSegments.Value = true;
    updateTmSettings.UpdateWithApprovedTranslationSegments.Value = true;
    updateTmSettings.UpdateWithTranslatedSegments.Value = true;

    updateTmSettings.UpdateWithDraftSegments.Value = false;
    updateTmSettings.UpdateWithRejectedSignOffSegments.Value = false;
    updateTmSettings.UpdateWithRejectedTranslationSegments.Value = false;
    updateTmSettings.UpdateWithUnspecifiedSegments.Value = false;
    #endregion

    #region &quot;UpdateTaskSettings&quot;
    project.UpdateSettings(settings);
    #endregion
}
</code></pre></section>
</div>
<h2 id="see-also">See Also</h2>
<p><a href="analyze_files_settings.html">Analyze Files Settings</a></p>
<p><a href="project_tm_creation_settings.html">Project TM Creation Settings</a></p>
<p><a href="pre_translate_settings.html">Pre-translate Settings</a></p>
<p><a href="perfect_match.html">Perfect Match</a></p>
<p><a href="update_translation_memory_settings.html">Update Translation Memory Settings</a></p>
<p><a href="generating_and_exporting_target_files.html">Generating and Exporting Target Files</a></p>
<p><a href="translation_count.html">Translation Count</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/studio-api-docs/blob/main/apiconcepts/projectautomation/update_translation_memory_settings.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h4>On this page</h4>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
