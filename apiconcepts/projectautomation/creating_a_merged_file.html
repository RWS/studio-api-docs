<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Creating a Merged File </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Creating a Merged File ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <span class="glyphicon glyphicon-search search-icon"></span>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar-default">
          <div class="container hide-when-search">
            <div class="breadcrumb-container" id="breadcrumb">
              <ul class="breadcrumb col-md-10">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="creating-a-merged-file">Creating a Merged File</h1>

<p>By default, when you add a native file (e.g. a Microsoft Word document) to a project, a bilingual (SDLXliff) intermediary file will be created from it for further processing, e.g. file analysis, pre-translation, editing, etc. As a general rule, one bilingual file will be created for each native source file per target language.</p>
<p>Trados Studio  also allows you to create a merged bilingual file that incorporates the content of several native files. This can be useful, for example, to facilitate processing multiple small HTML or XML files. This is helpful for maintaining consistency between multiple source files with a lot of cross-file repetitions. It is easier to perform QA, find/replace operations, etc. in a single master file rather than in dozens of HTML files.</p>
<p>At the end of the project lifecycle, the individual native target files need to be created from the bilingual merged file.</p>
<p>The screenshot below illustrates how several files are merged into one SDLXliff file in Trados Studio </p>
<p><img src="images/MergeFiles.jpg" alt="MergeFiles"></p>
<p>Note that you can merge files of different types into one bilingual master file, e.g. * <em>.doc</em>, * <em>.ppt</em>, * <em>.pdf</em>, * <em>.html</em>.</p>
<p>To merge project source files into one master file, implement a function called <code>MergeFiles</code>, which takes a <a href="../../api/projectautomation/Sdl.ProjectAutomation.FileBased.FileBasedProject.html">FileBasedProject</a> as parameter. When applying the <a href="../../api/projectautomation/Sdl.ProjectAutomation.FileBased.FileBasedProject.html#Sdl_ProjectAutomation_FileBased_FileBasedProject_CreateMergedProjectFile_System_String_System_String_System_Guid___">CreateMergedProjectFile</a> method to your project, you need to provide the following parameters:</p>
<ul>
<li>The name of the merged (SDLXliff) file.</li>
<li>The project path in which the merged file should be created. In this implementation, we will leave this string parameter empty. This means that the merged bilingual file will be created in the source language sub-folder (e.g. <em>en-US</em>), and will later be propagated to the corresponding target language sub-folders (e.g. <em>de-DE</em> and <em>fr-FR</em>) when the copy to target languages task is executed. You would only provide a different path in project, if you wanted the system to create the merged file in another sub-folder relative to the project path, e.g. <em>en-US/MergedFileSubPath</em>. However, in this case you will need to make sure that your implementation creates this physical path, as it will not be automatically crated by the Project Automation API.</li>
<li>The ids of the project files that should be merged. Note that it is, of course, possible to only merge several, but not all project files.</li>
</ul>
<p>The following sample function shows how files can be merged programmatically. Note that, for simplicity reasons, we assume that all source files should be merged and that all source files are translatable, i.e. no reference or localizable files, which cannot be merged and would therefore have to be exluded from any kind of merge operation.</p>
<div class="tabGroup" id="tabgroup_c9hqYKh1NB">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_c9hqYKh1NB_tabid-1" role="tab" aria-controls="tabpanel_c9hqYKh1NB_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_c9hqYKh1NB_tabid-1" role="tabpanel" data-tab="tabid-1">
<pre><code class="lang-cs">private void MergeFiles(FileBasedProject project)
{
    ProjectFile[] files = project.GetSourceLanguageFiles();
    Guid[] fileIds = files.GetIds();

    string masterFileName = &quot;Master_File.sdlxliff&quot;;
    string pathInProject = string.Empty;
    project.CreateMergedProjectFile(masterFileName, pathInProject, fileIds);
}
</code></pre></section>
</div>
<p>Note that only translatable files can be merged. If you try to merge translatable files with reference files, an exception will be thrown. So, you need to make sure to set the usage (i.e. role) of the files to merge to translatable before you apply the merge operation. The following sample code sets all files in the project to translatable:</p>
<div class="tabGroup" id="tabgroup_c9hqYKh1NB-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_c9hqYKh1NB-1_tabid-2" role="tab" aria-controls="tabpanel_c9hqYKh1NB-1_tabid-2" data-tab="tabid-2" tabindex="0" aria-selected="true">C#</a>
</li>
</ul>
<section id="tabpanel_c9hqYKh1NB-1_tabid-2" role="tabpanel" data-tab="tabid-2">
<pre><code class="lang-cs">ProjectFile[] files = project.GetSourceLanguageFiles();          
project.SetFileRole(files.GetIds(), FileRole.Translatable);
</code></pre></section>
</div>
<p>Also note that when you decide to create a merged bilingual file, only this bilingual (SDLXliff) file will exist alongside the original native documents. There will be no individual SDLXliff files, as is the case if you do not create a merged file.</p>
<h2 id="see-also">See Also</h2>
<p><a href="adding_files_and_folders.html">Adding Files and Folders</a></p>
<p><a href="adding_file_in_the_folder_to_the_project.html">Adding Files in the Folder to the Project</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/studio-api-docs/blob/main/apiconcepts/projectautomation/creating_a_merged_file.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h4>On this page</h4>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
